HTTP server running!
HTTP server running!
HTTP server running!
HTTP server running!
{"level":50,"time":1767554305493,"pid":102192,"hostname":"rhalfoliveira","reqId":"req-1","req":{"method":"POST","url":"/sessions/password","host":"localhost:3333","remoteAddress":"127.0.0.1","remotePort":54310},"res":{"statusCode":500},"err":{"type":"PrismaClientKnownRequestError","message":"\nInvalid `prisma.user.findUnique()` invocation in\n/home/rhalfoliveira/www/rhalf/next-saas-rbac/apps/api/src/http/routes/auth/authenticate-with-password.ts:31:47\n\n  28 async (request, reply) => {\n  29   const { email, password } = request.body\n  30 \n→ 31   const userFromEmail = await prisma.user.findUnique(\nDatabase `next-saas` does not exist on the database server","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.user.findUnique()` invocation in\n/home/rhalfoliveira/www/rhalf/next-saas-rbac/apps/api/src/http/routes/auth/authenticate-with-password.ts:31:47\n\n  28 async (request, reply) => {\n  29   const { email, password } = request.body\n  30 \n→ 31   const userFromEmail = await prisma.user.findUnique(\nDatabase `next-saas` does not exist on the database server\n    at qr.handleRequestError (/home/rhalfoliveira/www/rhalf/next-saas-rbac/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at qr.handleAndLogRequestError (/home/rhalfoliveira/www/rhalf/next-saas-rbac/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at qr.request (/home/rhalfoliveira/www/rhalf/next-saas-rbac/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async a (/home/rhalfoliveira/www/rhalf/next-saas-rbac/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:805:24)\n    at async Object.<anonymous> (/home/rhalfoliveira/www/rhalf/next-saas-rbac/apps/api/src/http/routes/auth/authenticate-with-password.ts:31:29)","code":"P1003","meta":{"modelName":"User","driverAdapterError":{"name":"DriverAdapterError","cause":{"originalCode":"3D000","originalMessage":"database \"next-saas\" does not exist","kind":"DatabaseDoesNotExist","db":"next-saas"}}},"clientVersion":"7.1.0","name":"PrismaClientKnownRequestError"},"msg":"\nInvalid `prisma.user.findUnique()` invocation in\n/home/rhalfoliveira/www/rhalf/next-saas-rbac/apps/api/src/http/routes/auth/authenticate-with-password.ts:31:47\n\n  28 async (request, reply) => {\n  29   const { email, password } = request.body\n  30 \n→ 31   const userFromEmail = await prisma.user.findUnique(\nDatabase `next-saas` does not exist on the database server"}
{"level":50,"time":1767554741136,"pid":102192,"hostname":"rhalfoliveira","reqId":"req-2","req":{"method":"POST","url":"/sessions/password","host":"localhost:3333","remoteAddress":"127.0.0.1","remotePort":34528},"res":{"statusCode":500},"err":{"type":"PrismaClientKnownRequestError","message":"\nInvalid `prisma.user.findUnique()` invocation in\n/home/rhalfoliveira/www/rhalf/next-saas-rbac/apps/api/src/http/routes/auth/authenticate-with-password.ts:31:47\n\n  28 async (request, reply) => {\n  29   const { email, password } = request.body\n  30 \n→ 31   const userFromEmail = await prisma.user.findUnique(\nDatabase `next-saas` does not exist on the database server","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.user.findUnique()` invocation in\n/home/rhalfoliveira/www/rhalf/next-saas-rbac/apps/api/src/http/routes/auth/authenticate-with-password.ts:31:47\n\n  28 async (request, reply) => {\n  29   const { email, password } = request.body\n  30 \n→ 31   const userFromEmail = await prisma.user.findUnique(\nDatabase `next-saas` does not exist on the database server\n    at qr.handleRequestError (/home/rhalfoliveira/www/rhalf/next-saas-rbac/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at qr.handleAndLogRequestError (/home/rhalfoliveira/www/rhalf/next-saas-rbac/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at qr.request (/home/rhalfoliveira/www/rhalf/next-saas-rbac/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async a (/home/rhalfoliveira/www/rhalf/next-saas-rbac/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:805:24)\n    at async Object.<anonymous> (/home/rhalfoliveira/www/rhalf/next-saas-rbac/apps/api/src/http/routes/auth/authenticate-with-password.ts:31:29)","code":"P1003","meta":{"modelName":"User","driverAdapterError":{"name":"DriverAdapterError","cause":{"originalCode":"3D000","originalMessage":"database \"next-saas\" does not exist","kind":"DatabaseDoesNotExist","db":"next-saas"}}},"clientVersion":"7.1.0","name":"PrismaClientKnownRequestError"},"msg":"\nInvalid `prisma.user.findUnique()` invocation in\n/home/rhalfoliveira/www/rhalf/next-saas-rbac/apps/api/src/http/routes/auth/authenticate-with-password.ts:31:47\n\n  28 async (request, reply) => {\n  29   const { email, password } = request.body\n  30 \n→ 31   const userFromEmail = await prisma.user.findUnique(\nDatabase `next-saas` does not exist on the database server"}
prisma:query SELECT "public"."users"."id", "public"."users"."name", "public"."users"."email", "public"."users"."password_hash", "public"."users"."avatar_url", "public"."users"."created_at", "public"."users"."updated_at" FROM "public"."users" WHERE ("public"."users"."email" = $1 AND 1=1) LIMIT $2 OFFSET $3
{"level":50,"time":1767555090566,"pid":102192,"hostname":"rhalfoliveira","reqId":"req-3","req":{"method":"POST","url":"/sessions/password","host":"localhost:3333","remoteAddress":"127.0.0.1","remotePort":36266},"res":{"statusCode":500},"err":{"type":"BadRequestError","message":"Invalid credentials.","stack":"Error: Invalid credentials.\n    at Object.<anonymous> (/home/rhalfoliveira/www/rhalf/next-saas-rbac/apps/api/src/http/routes/auth/authenticate-with-password.ts:38:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"},"msg":"Invalid credentials."}
prisma:query SELECT "public"."users"."id", "public"."users"."name", "public"."users"."email", "public"."users"."password_hash", "public"."users"."avatar_url", "public"."users"."created_at", "public"."users"."updated_at" FROM "public"."users" WHERE ("public"."users"."email" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."organizations"."id", "public"."organizations"."name", "public"."organizations"."slug", "public"."organizations"."domain", "public"."organizations"."should_attach_users_by-domain", "public"."organizations"."avatar_url", "public"."organizations"."created_at", "public"."organizations"."updated_at", "public"."organizations"."owner_id" FROM "public"."organizations" WHERE ("public"."organizations"."domain" = $1 AND "public"."organizations"."should_attach_users_by-domain" = $2) LIMIT $3 OFFSET $4
prisma:query INSERT INTO "public"."users" ("id","name","email","password_hash","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6) RETURNING "public"."users"."id", "public"."users"."name", "public"."users"."email", "public"."users"."password_hash", "public"."users"."avatar_url", "public"."users"."created_at", "public"."users"."updated_at"
prisma:query SELECT "public"."users"."id", "public"."users"."name", "public"."users"."email", "public"."users"."password_hash", "public"."users"."avatar_url", "public"."users"."created_at", "public"."users"."updated_at" FROM "public"."users" WHERE ("public"."users"."email" = $1 AND 1=1) LIMIT $2 OFFSET $3
{"level":50,"time":1767555697114,"pid":102192,"hostname":"rhalfoliveira","reqId":"req-5","req":{"method":"POST","url":"/sessions/password","host":"localhost:3333","remoteAddress":"127.0.0.1","remotePort":59256},"res":{"statusCode":500},"err":{"type":"BadRequestError","message":"Invalid credentials.","stack":"Error: Invalid credentials.\n    at Object.<anonymous> (/home/rhalfoliveira/www/rhalf/next-saas-rbac/apps/api/src/http/routes/auth/authenticate-with-password.ts:53:15)"},"msg":"Invalid credentials."}
prisma:query SELECT "public"."users"."id", "public"."users"."name", "public"."users"."email", "public"."users"."password_hash", "public"."users"."avatar_url", "public"."users"."created_at", "public"."users"."updated_at" FROM "public"."users" WHERE ("public"."users"."email" = $1 AND 1=1) LIMIT $2 OFFSET $3
